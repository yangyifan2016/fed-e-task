# JavaScript 性能优化
## 内存管理
* 申请
* 使用
* 释放
## 垃圾回收
* 垃圾
    - JavaScript 中内存管理是自动的
    - 对象不再被引用时是垃圾
    - 对象不能从根上访问到时是垃圾
* 可达对象
    - 可访问的对象（引用、作用域链）
    - 可达的标准就是从根出发是否能被找到
    - JavaScript中的根可以理解为全局变量对象
## GC算法
* GC
    - GC 就是垃圾回收机制的简写
    - GC 可以找到内存中的垃圾，并释放和回收空间
        - GC 里的垃圾
            - 不再需要使用的对象
            - 不能再访问到的对象
* 常见 GC 算法
    - 引用计数
        - 设置引用数，判断当前引用数是否为0
        - 优点
            - 发现垃圾时能立刻回收
            - 减少卡顿
        - 缺点
            - 无法回收循环引用的对象
            - 资源消耗大
    - 标记清除
        - 分标记和清除两个阶段完成
        - 优点
            - 可以回收循环引用对象
        - 缺点
            - 容易产生碎片化空间，浪费空间
            - 不会立即回收垃圾对象
    - 标记整理
        - 清除阶段会先整理，移动对象位置
        - 优点
            - 减少碎片化空间
        - 缺点
            - 不会立即回收垃圾对象
            - 移动对象位置，回收效率慢
    - 分代回收
## V8
* 一款主流JS执行引擎
* 采用即时编译
* 内存设限
### 垃圾回收策略
* 分代回收
* 内存分为新生代，老生代（留存时间长短）
* 针对不同对象，采用不同算法
## 一些优化点
* 避免全局变量
* 避免全局查找
* 避免循环引用
* 采用字面量替换New操作
* setTimeout 替换 setInterval
* 采用事件委托
* 合并循环变量和条件

（后面的优化点感觉效率不高，也不好记）